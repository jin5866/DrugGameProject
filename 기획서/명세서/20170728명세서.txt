2017 - 07 - 28 기획 명세서

1. 피버맵 설명 - 이해를 위해 넣었습니다. 이미 구현되어 있습니다.
목적 : 
플레이어의 약기운 수치를 적당한 수치로 조절하는걸 유도하기 위해

상세 : 
약기운 수치가 97 이상이 될경우 공중에 미리 만들어진 피버맵으로 가게된다.
피버맵에 가게되면 체력이 3배 빠르게 줄게 된다.

코드 : 
PlayerState 클레스 에서 매 Update 마다 poisened >= 97 인지 확인하고 넘게되면 
GameManager,UiManager,MapManager의 Fever() 함수 호출
MapManager 에서 CreateInitMap() 함수에서 미리 만들게 된다.

미정 사항 : 
특정 조건을 만족했을때 잠시 갔다 오는 상황을 위해 Fever함수가 인자로 bool afterDead 값을 받는데 true 일때는 기존의 올라가서 내려오지 못하는 상황이 되고 false 일때는 잠시 올라갔다가 fever 상태가 풀리는 상태가 된다.



2. 피버맵 명세

목적 : 
플레이어가 피버맵을 들어갈때 "미국이 아니라 하늘나라겠지"라는 대사를 들으며 웃음 유발.
매우 흥분된 상태라는걸 플레이어가 느낄수 있게 한다.

상세 : 
피버맵으로 가게될시 캐릭터가 하늘로 올라가는 모습을 보여준다.
올라가는 동안 "미국이 아니라 하늘나라겠지" 대사가 잘 나올수 있게 기철이 패드립 브금을 튼다.
피버맵에 올라간 상태에서도 기철이 패드립 브금을 유지한다.
PlayerState 에서 poisened(약기운) 상태가 계속 100으로 유지되게한다.
PlayerState 에서 체력 수치는 줄어들지만 계촉 최대치로 보이게 한다.


코드 : 
상태바는 UiManager 에서 관리합니다.


3. 유니티짱 흥분상태 명세
목적 : 
약기운이 높아진 상태에선 흥분된 상태라는걸 플레이어가 느낄수 있게 한다.

상세:
플레이어의 온몸과 배경이 무지개색으로 반짝 거린다. (예시: http://images.battlecomics.co.kr/users/365905/page/item/45e36298-a2f6-4b37-b973-45a36c78312d.gif )
화면 왜곡효과가 생긴다. (예시 : https://m.youtube.com/watch?v=WJrQ_bgWqvw)
경찰의 모습이 말모양으로 바뀐다.(두 에셋 모두 구매예정)

코드: 
캐릭터가 여러개일때 효과가 캐릭터마다 다른걸 만들기 위해 ICharacterBuff 를 만들었고 PlayerState 에서 확인하여 ICharacterBuff 인터페이스의 함수를 실행시킨다.
ICharacterBuff 인터페이스를 상속받은 UnityChanBuff 에서 관리한다.
GetBuff GetDebuff 의 인자로 degree 가 있는데 0 - 1 사이 실수 값으로 1이 최대 0이 최소 수준의 버프 디버프가 생긴다.


4. 경찰 명세
목적 : 
약기운이 높아짐에 따라 위험요소를 만든다.

상세: 
맵상의 여러 경찰은 계속 돌아다닌다. 
플레이어의 약기운이 높을때 근처를 지나가면 높은 확률로 쫒아오게된다.
플레이어와 가까워지면 공격을 한다.



5. 플레이어를 따라오는 AI

목적: 특정 상황에 플레이어를 따라온다.

상세: 
건물들의 방해물을 피해서 플레이어를 따라온다.
고스트같은 맵을 뚫는 NPC도 존재한다.
	배회상태 - 왔다갔다 돌아다닌다.
	추적상태 - Player를 발견하여 쫒아온다.



코드: 
플레이어를 따라오는 모든 NPC 의 경우 NPCControl 을 갖는다.
INPCAction 인터페이스를 상속한 컴포넌트가 필요.
NPCControl에서 INPCAvtion의 함수들을 호출한다.
Ghost를 예로 들면 Ghost는 INPCAction을 상속한 GhostAction에 구현되어있다.
INPCAction.Move(f,r) 에서 f는 앞으로 이동 r은 회전이다.